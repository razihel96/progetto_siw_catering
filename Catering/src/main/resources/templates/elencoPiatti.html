<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8" />
	<link th:href="@{/css/style.css}" rel="stylesheet">
	
	<!--BOOTSTRAP-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
	
	<title>Admin: Elenco piatti</title>
</head>



<body class="body_index_pagina">

	<div class="nome_index_pagina">
		<h1>ROMA<span>3</span> CATERING</h1>
	</div>

 	<div id="headerfoto_piatto">
		<h2>I PIATTI</h2>
	</div>


 	<div class="testo_pagina">
		<h1>Piatti come non li avete mai visti</h1>
		<p> 
			Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam, 
            nesciunt hic doloremque dicta quaerat voluptas, soluta laboriosam aut quis 
            alias labore autem rerum vel assumenda inventore, pariatur itaque odio 
            voluptatibus!
		</p>
	</div>





<!-------------ADMIN-------------->
<div th:if="${role}=='ADMIN'">


			<ul>
				<li th:each="piatto : ${elencoPiatti}">
				
						<div class="container">
							<div class="row row-cols-1 row-cols-sm-2 row-cols-md-4">
							
									<div class="col">
									
									<h2 th:text="${piatto.nome}"> NOME </h2>
									<p th:text="${piatto.descrizione}"> DESCRIZIONE </p>
									<h6 th:text="'Questo piatto fa parte del ' + ${piatto.buffet.nome} + ' dello chef ' + ${piatto.buffet.chef.cognome}"></h6>
										
									</div>
									
									<div class="col">
										<a th:href="@{'/piatto' + '/' + ${piatto.id} + '/elencoIngredienti'}">
										<button type="button" class="btn btn-outline-danger piatto"> 
										Visualizza ingredienti </button></a>
									</div>
								
				
									<div class="col">
										<a th:href="@{'/admin/piatto' + '/' + ${piatto.id} + '/ingredienteForm'}">
										<button type="button" class="btn btn-outline-danger piatto"> 
										Inserisci ingrediente </button></a>

									</div>



									<div class="col">
										<!-- Button trigger modal -->
										                            
										<button type="button" class="btn btn-outline-danger" th:attr="data-bs-target='#exampleModal' + ${piatto.id}"
										data-bs-toggle="modal"> 
										<p class="card-text">Cancella</p></button></a>
										
										<!-- Modal -->
										<div class="modal fade" th:id="'exampleModal' + ${piatto.id}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
										  <div class="modal-dialog">
										    
										    <div class="modal-content">
										      
										      <div class="modal-header">
										        <h5 class="modal-title" id="exampleModalLabel">Cancellazione</h5>
										        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
										      </div>
										      
										      <div class="modal-body">
										        Confermare la cancellazione?
										        <br>
						        				<span th:text = "${piatto.nome}"> NOME </span>
										      </div>
										      
										      <div class="modal-footer">
										        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Chiudi</button>
											        <a th:href="@{'/admin/deletePiatto' + '/' + ${piatto.id}}">
											        <button type="button" class="btn btn-danger"> Conferma </button> </a>	
										     
										      </div>
										    
										    
										    </div>
										  
										  </div>
										</div>
									</div>
									
									

<hr>

							</div>
						</div>
					
				</li>
			</ul>
</div>




<!-------------UTENTE-------------->
<div th:unless="${role}=='ADMIN'">

	<ul>
		<li th:each="piatto : ${elencoPiatti}">

				<div class="container">
					<div class="row row-cols-1 row-cols-sm-2 row-cols-md-2">
					
								<div class="col">
									<h2 th:text="${piatto.nome}"> NOME </h2>
									<p th:text="${piatto.descrizione}"> DESCRIZIONE </p>
								</div>
									
								<div class="col">
										<a th:href="@{'/piatto' + '/' + ${piatto.id} + '/elencoIngredienti'}">
										<button type="button" class="btn btn-outline-danger piatto"> 
										Visualizza ingredienti </button></a>
								</div>

					</div>
				</div>
			
		</li>
	</ul>

</div>





 <footer class="home_logout">
        
        <a th:href="@{/logout}">
            <button type="button" class="btn btn-outline-danger"> 
            Logout </button></a>

        <a href="/default"><img id="img_login" src="/images/home2.png" alt=""></a>
        
 </footer>
 
 

<!--BOOTSTRAP-->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy" crossorigin="anonymous"></script>
</body>
</html>