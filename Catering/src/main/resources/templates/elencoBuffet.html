<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8" />
    <link th:href="@{/css/style.css}" rel="stylesheet">
    
    <!--BOOTSTRAP-->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
	
	<title>Elenco buffet</title>
</head>





<body class="body_index_pagina">
	

	<div class="nome_index_pagina">
		<h1>ROMA<span>3</span> CATERING</h1>
	</div>


	<div id="headerfoto_buffet">
		<h2>I BUFFET</h2>
	</div>


	<div class="testo_pagina">
		<h1>Buffet come non li avete mai visti</h1>
		<p> 
			Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam, 
            nesciunt hic doloremque dicta quaerat voluptas, soluta laboriosam aut quis 
            alias labore autem rerum vel assumenda inventore, pariatur itaque odio 
            voluptatibus!
		</p>
	</div>


<!-------------ADMIN-------------->
<div th:if="${role}=='ADMIN'">
				
		
		<ul>
		
			<li class="griglia" th:each="buffet : ${elencoBuffet}">

	<div class="card mb-3" style="max-width: 700px;">
		<div class="row g-0">
		  
		  
		  <div class="col-md-4">
			<img class="img-fluid rounded-start" th:src="@{${buffet.photosImagePath}}" alt="" />
		  </div>
		  
		  
		  <div class="col-md-8">
			<div class="card-body">
				<h5 th:text="${buffet.nome}" class="card-title">NOME</h5>
				<p  th:text="${buffet.descrizione}" class="card-text">DESCRIZIONE</p>
				
				<!-- <div th:text="'Questo buffet Ã¨ di ' + *{chef.nome} + ' ' + *{chef.cognome}"> mi ritorna il nome dello chef </div> -->
				
				<hr>
		
		<div class="buttons">		
			<section>
				<a th:href="@{'/buffet' + '/' + ${buffet.id} + '/elencoPiatti'}">
				<button type="button" class="btn btn-outline-danger"> 
				<p class="card-text">Visualizza piatti</p></button></a>
			</section>
			
			
			
			<section>
				<!-- Button trigger modal -->
						                            
						<button type="button" class="btn btn-outline-danger" th:attr="data-bs-target='#exampleModal' + ${buffet.id}" 
						data-bs-toggle="modal"> 
						<p class="card-text">Cancella</p></button></a>
						
						<!-- Modal -->
						<div class="modal fade" th:id="'exampleModal' + ${buffet.id}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
						  <div class="modal-dialog">
						    <div class="modal-content">
						      <div class="modal-header">
						        <h5 class="modal-title" id="exampleModalLabel">Cancellazione</h5>
						        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						      </div>
						      <div class="modal-body">
						        Confermare la cancellazione?
						        <br>
						        <span th:text = "${buffet.nome}"> NOME </span>
						      </div>
						      <div class="modal-footer">
						        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Chiudi</button>
							        <a th:href="@{'/admin/deleteBuffet' + '/' + ${buffet.id}}">
							        <button type="button" class="btn btn-danger"> Conferma </button> </a>	
						      </div>
						    </div>
						  </div>
						</div>
			</section>
			
			
			
			<section>
				<a th:href="@{'/admin/buffet' + '/' + ${buffet.id} + '/piattoForm'}">
				<button type="button" class="btn btn-outline-danger"> 
				<p class="card-text">Inserisci un piatto</p></button></a>
			</section>
		</div>
		
		
			</div>
		  </div>
		</div>
	</div>
	</li> 
</ul>
</div>


<!-------------UTENTE-------------->
<div th:unless="${role}=='ADMIN'">
	<ul>
	
		<li  id="griglia" th:each="buffet : ${elencoBuffet}">
			
			<div class="card mb-3" style="max-width: 540px;">
				<div class="row g-0">
				  
				  
				  <div class="col-md-4">
					<img th:src="@{${buffet.photosImagePath}}" class="img-fluid rounded-start" alt="" />
				  </div>
				  
				  
				  <div class="col-md-8">
					<div class="card-body">
						<h5 th:text="${buffet.nome}" class="card-title">NOME</h5>
						<p  th:text="${buffet.descrizione}" class="card-text">DESCRIZIONE</p>
						
						<hr>
						
						<div class="buttons">		
							<section>
								<a th:href="@{'/buffet' + '/' + ${buffet.id} + '/elencoPiatti'}">
								<button type="button" class="btn btn-outline-danger"> 
								<p class="card-text">Visualizza piatti</p></button></a>
							</section>
						</div>
	
					</div>
				  </div>
				</div>
			</div>

		</li> 
	</ul>
</div>





 <footer class="home_logout">
        
        <a th:href="@{/logout}">
            <button type="button" class="btn btn-outline-danger"> 
            Logout </button></a>

        <a href="/default"><img id="img_login" src="/images/home2.png" alt=""></a>
        
 </footer>



<!--BOOTSTRAP-->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy" crossorigin="anonymous"></script>
</body>
</html>